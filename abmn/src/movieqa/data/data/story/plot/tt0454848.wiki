Dalton Russell (Clive Owen), seated in what appears to be a jail cell, opens the film with a prologue about having carried out the "perfect robbery". A van is driving from Brooklyn to the Wall Street area. Inside is a team of masked robbers, dressed as painters, who call each other by variants of the name "Steve" (i.e. Steve, Stevie, Stevo). They seize control of a Manhattan bank and take the employees and patrons hostage. They divide the hostages into groups and hold them in different rooms, forcing them to strip and don painters' clothes identical to their own. The robbers rotate the hostages between various rooms and occasionally insert themselves covertly into the groups, while also taking turns working on an unspecified project involving demolishing the floor in one of the bank's storage rooms.

Police surround the bank and Detectives Keith Frazier (Denzel Washington) and Bill Mitchell (Chiwetel Ejiofor) take charge of the negotiations. Russell, the leader of the robbers, demands food. The police supply pizzas whose boxes include listening devices; these pick up a language which the police finally identify as Albanian. However, they discovered that the conversations are just very old propaganda recordings of the deceased Albanian communist dictator Enver Hoxha; it becomes clear that the robbers anticipated surveillance.

After being informed of the robbery in progress, Arthur Case (Christopher Plummer), the chairman of the board of directors and founder of the bank, hires "fixer" Madeleine White (Jodie Foster) to try to protect the contents of his safe deposit box within the bank. White, with assistance from the Mayor of New York City who owes her a favour, arranges a conversation with Russell, who allows her to enter the bank and inspect the contents of the box, which include documents from Nazi Germany. Russell implies that Case started his bank with money that he received from the Nazis for unspecified services, resulting in the deaths of many Jewish people during World War II. White tells Russell that Case will pay him a substantial sum to destroy the contents of the box. She claims she can arrange a minimal jail sentence as Russell and his team have not yet stolen anything or hurt or killed anyone; Russell declines her offers. When she asks how he intends to leave the bank, he tells her "right through the front door".

Frazier demands to inspect the hostages before allowing the robbers to leave and Russell takes him on a tour of the bank. As he is being shown out, Frazier attacks Russell, but is restrained by another robber who puts his gun to the back of Frazier's head. Alone with Russell shortly afterwards, the other robber, who turns out to be one of the hostages "interviewed" by Frazier, begins to panic and ask what would have happened had Frazier managed to remove Russell's mask. Russell appears lost in thought. Frazier later explains to his partner that his actions were intended to provoke Russell to establish whether he was capable of killing. The robbers counter this theory by shooting a hostage in the head.

The execution prompts the ESU team into action. They plan to storm the bank and use rubber bullets to knock out the occupants. However, Frazier discovers that the robbers have planted a listening device on the police; aware of the police plans, the robbers detonate smoke grenades and release all the hostages. The police detain everyone, knowing that some of the hostages are members of the gang, but can't distinguish between the two. They interrogate the hostages harshly, questioning their honesty and trying to glean useful information, to no avail. A search of the bank reveals that the robbers' weapons are plastic replicas. They find props for faking the hostage's execution; the blood was red paint. Curiously, no money or valuables appear to have been taken.

With no way to identify the suspects and unsure if a crime has been committed, Frazier's superior, on orders from the mayor, tells him to drop the case but Frazier continues. He searches the bank's records and finds that safe deposit box #392 has never appeared on records since the bank's founding in 1948, and obtains a search warrant to open it. He is then confronted by White, who informs him of Case's Nazi dealings. She attempts to persuade Frazier to drop his investigation, but he refuses, playing a recording of an incriminating conversation that she earlier had with him. White confronts Case who admits to his actions and reveals that the box contained, aside from incriminating paperwork, diamonds and a ring which had belonged to a French Jewish banker and his family who were sent to concentration camps. White is genuinely repulsed by Case but accepts his payment for her mission, even though it was one of her few failures. She tells him that the robber took the incriminating paperwork so that, if he returns with a blackmail demand, Case will have to pay him off.

Russell reappears in the same location in which he gave his opening monologue, with the revelation that he is not in a cell but hiding in a small room behind a fake wall the robbers had constructed inside the bank's supply room. The construction of the hiding area was the real reason for their delaying tactics. Russell emerges a week after the robbery with the contents of Case's safe deposit box, including incriminating documents and several bags of diamonds. On his way out (through the front door just as he told White), he bumps into Frazier, who does not recognize him. Russell goes to a car where his four associates are waiting, and they drive off.

When Frazier opens the safe deposit box, he finds a pack of chewing gum (Russell had asked Frazier if he wanted some gum during one of their meetings in the bank) and a large ring with a note from Russell telling him to "follow the ring". Frazier confronts Case and then goes to see White, who is in a restaurant with some VIPs, including the mayor. Frazier gives her the contact information for the Office of War Crimes Issues at the U.S. State Department, knowing she takes his meaning, although her companions do not. On returning home to his girlfriend, Frazier finds a loose small but valuable diamond in his pocket. He realizes it must have been slipped to him by Russell in the bank after he intentionally bumped into Frazier.